function currentActivity(){$("#activity").load("/load/activity");}function recentlyAdded(){$("#recentlyAdded").load("/load/recentlyAdded");}(function(a,c,d){if((d in c)&&c[d]){var f,b=a.location,e=/^(a|html)$/i;
a.addEventListener("click",function(g){f=g.target;while(!(e).test(f.nodeName)){f=f.parentNode;}if("href" in f&&(f.href.indexOf("http")||~f.href.indexOf(b.host))){g.preventDefault();
b.href=f.href;}},false);}})(document,window.navigator,"standalone");function renderCharts(){var g=document.createElement("div"),a=-(~~$("html").css("padding-left").replace("px","")+~~$("body").css("margin-left").replace("px","")),e=-35;
g.className="ex-tooltip";document.body.appendChild(g);var c={xScale:"ordinal",yScale:"linear",main:[{className:".playChartHourly",data:hourlyPlayFinal}]};
var l={dataFormatX:function(m){return d3.time.format("%Y-%m-%d %H").parse(m);},tickFormatX:function(m){return d3.time.format("%-I:00 %p")(m);},paddingLeft:("35"),paddingRight:("35"),paddingTop:("10"),tickHintY:("5"),mouseover:function(n,m){var o=$(this).offset();
$(g).text(d3.time.format("%-I:00 %p")(n.x)+": "+n.y+" play(s)").css({top:e+o.top,left:o.left+a}).show();},mouseout:function(m){$(g).hide();}};var h=new xChart("line-dotted",c,"#playChartHourly",l);
var j={xScale:"ordinal",yScale:"linear",main:[{className:".maxplayChartHourly",data:maxhourlyPlayFinal}]};var d={dataFormatX:function(m){return d3.time.format("%Y-%m-%d %H").parse(m);
},tickFormatX:function(m){return d3.time.format("%-I:00 %p")(m);},paddingLeft:("35"),paddingRight:("35"),paddingTop:("10"),tickHintY:("5"),mouseover:function(n,m){var o=$(this).offset();
$(g).text(d3.time.format("%-I:00 %p")(n.x)+": "+n.y+" play(s)").css({top:e+o.top,left:o.left+a}).show();},mouseout:function(m){$(g).hide();}};var h=new xChart("bar",j,"#playChartMaxHourly",d);
var i={xScale:"ordinal",yScale:"linear",main:[{className:".playcount",data:dailyPlayFinal}]};var b={dataFormatX:function(m){return d3.time.format("%Y-%m-%d").parse(m);
},tickFormatX:function(m){return d3.time.format("%b %e")(m);},paddingLeft:("35"),paddingRight:("35"),paddingTop:("10"),tickHintY:("5"),mouseover:function(n,m){var o=$(this).offset();
$(g).text(d3.time.format("%b %e")(n.x)+": "+n.y+" play(s)").css({top:e+o.top,left:o.left+a}).show();},mouseout:function(m){$(g).hide();}};var h=new xChart("bar",i,"#playChartDaily",b);
var k={xScale:"ordinal",yScale:"linear",main:[{className:".playcount",data:monthlyPlayFinal}]};var f={dataFormatX:function(m){return d3.time.format("%Y-%m").parse(m);
},tickFormatX:function(m){return d3.time.format("%b")(m);},paddingLeft:("35"),paddingRight:("35"),paddingTop:("10"),tickHintY:("5"),mouseover:function(n,m){var o=$(this).offset();
$(g).text(d3.time.format("%b")(n.x)+": "+n.y+" play(s)").css({top:e+o.top,left:o.left+a}).show();},mouseout:function(m){$(g).hide();}};var h=new xChart("line-dotted",k,"#playChartMonthly",f);
}$(document).ready(function(){if($("#activity").length){setInterval("currentActivity()",15000);}if($("#recentlyAdded").length){setInterval("recentlyAdded()",300000);
}if($("#globalHistory").length){$("#globalHistory").dataTable({paging:true,responsive:true,sPaginationType:"bootstrap",iDisplayLength:25,bAutoWidth:true,aaSorting:[[0,"desc"]],language:tableLanguage});
}if($("#history-charts-wrapper").length){renderCharts();}});